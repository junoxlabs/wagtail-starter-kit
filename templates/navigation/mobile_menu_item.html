{% load wagtailcore_tags navigation_tags %}

{% if item.item %}
    {% if item.children %}
        <!-- Mobile dropdown menu item -->
        <li class="w-full border-b border-base-300/80">
            <details class="w-full">
                <summary class="block p-3 normal-case text-bold flex items-center justify-between" data-action="click->navbar#toggleMobileDropdown">
                    {{ item.item.title }}
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </summary>
                <ul class="bg-base-200/50 pl-4" style="max-height: 0; overflow: hidden;">
                    {% for child in item.children %}
                        {% include "navigation/mobile_menu_item.html" with item=child %}
                    {% endfor %}
                </ul>
            </details>
        </li>
    {% else %}
        <!-- Regular mobile menu item -->
        <li class="border-b border-base-300/80 w-full">
            <a
                href="{{ item.item.link }}"
                class="block p-3 normal-case text-bold"
                {% if item.item.open_in_new_tab %}target="_blank"{% endif %}
                data-action="click->navbar#closeMenu"
            >
                {{ item.item.title }}
            </a>
        </li>
    {% endif %}
{% endif %}
